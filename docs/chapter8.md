# 데이터 체계화

### 필드 자체 캡슐화

* 필드에 직접 접근하던 중 그 필드로의 결합된 문제가 생길땐 그 필드용 읽기/쓰기 메서드를 작성하여 그 메서드를 통해 접근

* 방법
    - 필드 읽기 메서드와 쓰기 메서드를 작성
    - 그 필드 참조부분을 전부 읽기/쓰기 메서드로 변경
    - 필드를 private로 변경
    - 참조 코드를 빠짐없이 수정했는지 확인
    - 테스트


### 데이터 값을 객체로 전환

* 테이터 항목에 데이터나 기능을 추가해야 할 때는 데이터 항목을 객체로 만든다.
    - 전화번호는 문자열로 표현될 수 있지만 기능이 추가되다보면 형식화, 지역번호등 특수기능이 필요해질 수 있다.
    - 이는 중복코드나 잘못된 소속등의 코드 구린내가 풍기게 된다.

* 방법
    - 데이터 값을 넣을 클래스를 작성, 
    - 컴파일
    - 원본 클래스에 든 필드의 타입을 새 클래스로 변환
    - 그 필드가 원본 클래스 생성자 안에서 사용된다면 새클래스의 생성자를 이용
    - 새 클래스의 새 인스턴스를 생성하게끔 읽기 메서드 수정
    - 컴파일 및 테스트
    - 새 객체에 값을 참조로 전환을 적용해야 할 수도 있다.


### 값을 참조로 전환

* 클래스에 같은 인스턴스가 많이 있어 이것들을 하나의 객체로 바꿔야 할 땐 그 객체를 참조 객체로 전환

* 방법
    - 생성자를 팩토리 메서드로 전환
    - 컴파일과 테스트를 실시
    - 참조 객체로의 접근을 담당할 객체 정하기
        - 정적 딕셔너리나 레지스트리 객체가 담당할 수도 있음
        - 참조 객체로의 접근을 둘 이상의 객체가 담당할 수도 있다.
    - 객체를 미리 생성할지 사용하기 직전에 생성할지를 정한다.
        - 객체를 미리 생성했다가 메모리에서 가져오면 사용 전에 미리 로딩되어 있는지 확인해야 한다.
    - 참조 객체를 반환하게 팩토리 메서드를 수정
        - 객체를 미리 생성할 경우, 존재하지 않는 객체 요청에 대한 에러처리를 어떻게 할지 정해야 한다.
        - 팩터리 메서드가 원본 객체를 반환함을 한눈에 알 수 있게 팩터리 메서드에 메서드명 변경을 적용해야 할 수 있다.
    - 컴파일, 테스트
